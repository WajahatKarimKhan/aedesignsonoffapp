{"ast":null,"code":"var _jsxFileName = \"/home/btalat/SONOFF/frontend/sonoff-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\n\n// The URL of your FastAPI backend\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = 'http://localhost:5000';\nconst WEBSOCKET_URL = 'ws://localhost:5000/ws';\nfunction App() {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userData, setUserData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [statusMessage, setStatusMessage] = useState('');\n\n  // useRef is used to hold the WebSocket object.\n  // This prevents it from being recreated on every render.\n  const ws = useRef(null);\n\n  // This effect runs once on component mount to check the user's auth status.\n  useEffect(() => {\n    const checkAuthStatus = async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/status`, {\n          credentials: 'include'\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setIsAuthenticated(data.authenticated);\n        } else {\n          setError('Failed to check authentication status.');\n        }\n      } catch (err) {\n        setError('Cannot connect to the backend. Is it running?');\n      } finally {\n        setLoading(false);\n      }\n    };\n    checkAuthStatus();\n  }, []);\n\n  // This effect manages the WebSocket connection based on authentication state.\n  useEffect(() => {\n    if (isAuthenticated) {\n      // Connect to WebSocket if authenticated and not already connected.\n      if (!ws.current) {\n        ws.current = new WebSocket(WEBSOCKET_URL);\n        ws.current.onopen = () => {\n          console.log('WebSocket connected');\n          setStatusMessage('Connected to server. Ready to fetch data.');\n        };\n        ws.current.onmessage = event => {\n          const data = JSON.parse(event.data);\n          console.log('Received data from WebSocket:', data);\n          if (data.error) {\n            setError(`Error from server: ${data.details || data.error}`);\n            setUserData(null);\n          } else {\n            setUserData(data);\n            setError(null); // Clear previous errors\n          }\n          setStatusMessage('Data received!');\n        };\n        ws.current.onerror = event => {\n          console.error('WebSocket error:', event);\n          setError('A WebSocket error occurred. Connection may be lost.');\n        };\n        ws.current.onclose = () => {\n          console.log('WebSocket disconnected');\n          setStatusMessage('Disconnected from server.');\n          ws.current = null; // Clear the ref on close\n        };\n      }\n    } else {\n      // If not authenticated, ensure any existing WebSocket is closed.\n      if (ws.current) {\n        ws.current.close();\n      }\n    }\n\n    // Cleanup function: This will be called when the component unmounts\n    // or before the effect runs again.\n    return () => {\n      if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n        console.log('Closing WebSocket connection on cleanup.');\n        ws.current.close();\n      }\n    };\n  }, [isAuthenticated]); // This effect depends on the authentication state.\n\n  const handleLogin = () => {\n    window.location.href = `${BACKEND_URL}/login`;\n  };\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUserData(null);\n    window.location.href = `${BACKEND_URL}/logout`;\n  };\n  const handleGetData = async () => {\n    setStatusMessage('Requesting data from eWeLink...');\n    setUserData(null); // Clear previous data\n    setError(null);\n    try {\n      // This HTTP request tells the backend to fetch data and PUSH it\n      // over the WebSocket. We don't need the response data here.\n      const response = await fetch(`${BACKEND_URL}/api/get-data`, {\n        credentials: 'include'\n      });\n      const result = await response.json();\n      if (!response.ok) {\n        var _result$detail;\n        // If the initial HTTP request fails, show an error.\n        setError(((_result$detail = result.detail) === null || _result$detail === void 0 ? void 0 : _result$detail.error) || result.detail || 'Failed to trigger data fetch.');\n        setStatusMessage('');\n      }\n    } catch (err) {\n      setError('Failed to send data request to backend.');\n      setStatusMessage('');\n    }\n  };\n  const renderContent = () => {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400\",\n        children: \"Checking authentication...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 14\n      }, this);\n    }\n    if (isAuthenticated) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold text-white\",\n            children: \"eWeLink Control Panel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-transform transform hover:scale-105\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGetData,\n            className: \"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\",\n            disabled: !ws.current || ws.current.readyState !== WebSocket.OPEN,\n            children: \"Fetch Device Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-400 mt-3 h-4\",\n            children: statusMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 12\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-900 border border-red-700 text-red-200 p-3 rounded-lg mb-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), userData ? /*#__PURE__*/_jsxDEV(\"pre\", {\n          className: \"bg-gray-900 text-green-300 p-4 rounded-lg overflow-auto text-sm\",\n          children: JSON.stringify(userData, null, 2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-400 bg-gray-800 p-6 rounded-lg\",\n          children: \"Click the button above to fetch your device data.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold text-white mb-2\",\n        children: \"eWeLink Data Fetcher\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400 mb-6\",\n        children: \"Login to connect to the server and view your eWeLink device data in real-time.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        className: \"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105\",\n        children: \"Login with eWeLink\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-400 mt-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-800 text-white min-h-screen flex items-center justify-center p-4 font-sans\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl bg-gray-700 rounded-xl shadow-2xl p-8\",\n      children: renderContent()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"uApBHHz/Wj/MyfQvvGdCTaPukug=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","BACKEND_URL","WEBSOCKET_URL","App","_s","isAuthenticated","setIsAuthenticated","userData","setUserData","loading","setLoading","error","setError","statusMessage","setStatusMessage","ws","checkAuthStatus","response","fetch","credentials","ok","data","json","authenticated","err","current","WebSocket","onopen","console","log","onmessage","event","JSON","parse","details","onerror","onclose","close","readyState","OPEN","handleLogin","window","location","href","handleLogout","handleGetData","result","_result$detail","detail","renderContent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","stringify","_c","$RefreshReg$"],"sources":["/home/btalat/SONOFF/frontend/sonoff-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\n// The URL of your FastAPI backend\nconst BACKEND_URL = 'http://localhost:5000';\nconst WEBSOCKET_URL = 'ws://localhost:5000/ws';\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userData, setUserData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [statusMessage, setStatusMessage] = useState('');\n\n  // useRef is used to hold the WebSocket object.\n  // This prevents it from being recreated on every render.\n  const ws = useRef(null);\n\n  // This effect runs once on component mount to check the user's auth status.\n  useEffect(() => {\n    const checkAuthStatus = async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/status`, { credentials: 'include' });\n        if (response.ok) {\n          const data = await response.json();\n          setIsAuthenticated(data.authenticated);\n        } else {\n          setError('Failed to check authentication status.');\n        }\n      } catch (err) {\n        setError('Cannot connect to the backend. Is it running?');\n      } finally {\n        setLoading(false);\n      }\n    };\n    checkAuthStatus();\n  }, []);\n\n  // This effect manages the WebSocket connection based on authentication state.\n  useEffect(() => {\n    if (isAuthenticated) {\n      // Connect to WebSocket if authenticated and not already connected.\n      if (!ws.current) {\n        ws.current = new WebSocket(WEBSOCKET_URL);\n\n        ws.current.onopen = () => {\n          console.log('WebSocket connected');\n          setStatusMessage('Connected to server. Ready to fetch data.');\n        };\n\n        ws.current.onmessage = (event) => {\n          const data = JSON.parse(event.data);\n          console.log('Received data from WebSocket:', data);\n          if (data.error) {\n             setError(`Error from server: ${data.details || data.error}`);\n             setUserData(null);\n          } else {\n             setUserData(data);\n             setError(null); // Clear previous errors\n          }\n          setStatusMessage('Data received!');\n        };\n\n        ws.current.onerror = (event) => {\n          console.error('WebSocket error:', event);\n          setError('A WebSocket error occurred. Connection may be lost.');\n        };\n\n        ws.current.onclose = () => {\n          console.log('WebSocket disconnected');\n          setStatusMessage('Disconnected from server.');\n          ws.current = null; // Clear the ref on close\n        };\n      }\n    } else {\n      // If not authenticated, ensure any existing WebSocket is closed.\n      if (ws.current) {\n        ws.current.close();\n      }\n    }\n\n    // Cleanup function: This will be called when the component unmounts\n    // or before the effect runs again.\n    return () => {\n      if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n        console.log('Closing WebSocket connection on cleanup.');\n        ws.current.close();\n      }\n    };\n  }, [isAuthenticated]); // This effect depends on the authentication state.\n\n\n  const handleLogin = () => {\n    window.location.href = `${BACKEND_URL}/login`;\n  };\n\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUserData(null);\n    window.location.href = `${BACKEND_URL}/logout`;\n  };\n  \n  const handleGetData = async () => {\n    setStatusMessage('Requesting data from eWeLink...');\n    setUserData(null); // Clear previous data\n    setError(null);\n    try {\n        // This HTTP request tells the backend to fetch data and PUSH it\n        // over the WebSocket. We don't need the response data here.\n        const response = await fetch(`${BACKEND_URL}/api/get-data`, { credentials: 'include' });\n        const result = await response.json();\n        \n        if (!response.ok) {\n            // If the initial HTTP request fails, show an error.\n            setError(result.detail?.error || result.detail || 'Failed to trigger data fetch.');\n            setStatusMessage('');\n        }\n    } catch (err) {\n        setError('Failed to send data request to backend.');\n        setStatusMessage('');\n    }\n  };\n\n\n  const renderContent = () => {\n    if (loading) {\n      return <p className=\"text-gray-400\">Checking authentication...</p>;\n    }\n    \n    if (isAuthenticated) {\n      return (\n        <div>\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-semibold text-white\">eWeLink Control Panel</h2>\n            <button\n              onClick={handleLogout}\n              className=\"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-transform transform hover:scale-105\"\n            >\n              Logout\n            </button>\n          </div>\n           <div className=\"text-center mb-6\">\n             <button\n                onClick={handleGetData}\n                className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\n                disabled={!ws.current || ws.current.readyState !== WebSocket.OPEN}\n             >\n                Fetch Device Data\n             </button>\n             <p className=\"text-sm text-gray-400 mt-3 h-4\">{statusMessage}</p>\n          </div>\n          \n          {error && <div className=\"bg-red-900 border border-red-700 text-red-200 p-3 rounded-lg mb-4\">{error}</div>}\n\n          {userData ? (\n              <pre className=\"bg-gray-900 text-green-300 p-4 rounded-lg overflow-auto text-sm\">\n                {JSON.stringify(userData, null, 2)}\n              </pre>\n          ) : (\n            <div className=\"text-center text-gray-400 bg-gray-800 p-6 rounded-lg\">\n                Click the button above to fetch your device data.\n            </div>\n          )}\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl font-semibold text-white mb-2\">eWeLink Data Fetcher</h2>\n        <p className=\"text-gray-400 mb-6\">Login to connect to the server and view your eWeLink device data in real-time.</p>\n        <button\n          onClick={handleLogin}\n          className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105\"\n        >\n          Login with eWeLink\n        </button>\n        {error && <p className=\"text-red-400 mt-4\">{error}</p>}\n      </div>\n    );\n  };\n  \n  return (\n    <div className=\"bg-gray-800 text-white min-h-screen flex items-center justify-center p-4 font-sans\">\n      <div className=\"w-full max-w-2xl bg-gray-700 rounded-xl shadow-2xl p-8\">\n        {renderContent()}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}